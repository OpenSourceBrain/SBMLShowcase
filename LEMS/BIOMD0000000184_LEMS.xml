<Lems>
<!--
    This LEMS file has been generated by org.neuroml.importer.sbml.SBMLImporter (see https://github.com/NeuroML/org.neuroml.import)
         org.neuroml.import  v1.10.1
         org.neuroml.model   v1.10.1
         jLEMS               v0.11.1
-->

    <Dimension name="time" m="0" l="0" t="1" i="0" k="0" n="0" j="0"/>
    <Dimension name="per_time" m="0" l="0" t="-1" i="0" k="0" n="0" j="0"/>
    <Dimension name="voltage" m="1" l="2" t="-3" i="-1" k="0" n="0" j="0"/>
    <Dimension name="per_voltage" m="-1" l="-2" t="3" i="1" k="0" n="0" j="0"/>
    <Dimension name="conductance" m="-1" l="-2" t="3" i="2" k="0" n="0" j="0"/>
    <Dimension name="conductanceDensity" m="-1" l="-4" t="3" i="2" k="0" n="0" j="0"/>
    <Dimension name="capacitance" m="-1" l="-2" t="4" i="2" k="0" n="0" j="0"/>
    <Dimension name="specificCapacitance" m="-1" l="-4" t="4" i="2" k="0" n="0" j="0"/>
    <Dimension name="resistance" m="1" l="2" t="-3" i="-2" k="0" n="0" j="0"/>
    <Dimension name="resistivity" m="2" l="2" t="-3" i="-2" k="0" n="0" j="0"/>
    <Dimension name="charge" m="0" l="0" t="1" i="1" k="0" n="0" j="0"/>
    <Dimension name="charge_per_mole" m="0" l="0" t="1" i="1" k="0" n="-1" j="0"/>
    <Dimension name="current" m="0" l="0" t="0" i="1" k="0" n="0" j="0"/>
    <Dimension name="currentDensity" m="0" l="-2" t="0" i="1" k="0" n="0" j="0"/>
    <Dimension name="length" m="0" l="1" t="0" i="0" k="0" n="0" j="0"/>
    <Dimension name="area" m="0" l="2" t="0" i="0" k="0" n="0" j="0"/>
    <Dimension name="volume" m="0" l="3" t="0" i="0" k="0" n="0" j="0"/>
    <Dimension name="concentration" m="0" l="-3" t="0" i="0" k="0" n="1" j="0"/>
    <Dimension name="substance" m="0" l="0" t="0" i="0" k="0" n="1" j="0"/>
    <Dimension name="permeability" m="0" l="1" t="-1" i="0" k="0" n="0" j="0"/>
    <Dimension name="temperature" m="0" l="0" t="0" i="0" k="1" n="0" j="0"/>
    <Dimension name="idealGasConstantDims" m="1" l="2" t="-2" i="0" k="-1" n="-1" j="0"/>
    <Dimension name="conductance_per_voltage" m="-2" l="-4" t="6" i="3" k="0" n="0" j="0"/>
    <Dimension name="rho_factor" m="0" l="-1" t="-1" i="-1" k="0" n="1" j="0"/>
    <Dimension name="none" m="0" l="0" t="0" i="0" k="0" n="0" j="0"/>
    <Unit name="s" symbol="s" dimension="time" power="0" scale="1.0" offset="0.0"/>
    <Unit name="per_s" symbol="per_s" dimension="per_time" power="0" scale="1.0" offset="0.0"/>
    <Unit name="Hz" symbol="Hz" dimension="per_time" power="0" scale="1.0" offset="0.0"/>
    <Unit name="ms" symbol="ms" dimension="time" power="-3" scale="1.0" offset="0.0"/>
    <Unit name="per_ms" symbol="per_ms" dimension="per_time" power="3" scale="1.0" offset="0.0"/>
    <Unit name="min" symbol="min" dimension="time" power="0" scale="60.0" offset="0.0"/>
    <Unit name="per_min" symbol="per_min" dimension="per_time" power="0" scale="0.01666666667" offset="0.0"/>
    <Unit name="hour" symbol="hour" dimension="time" power="0" scale="3600.0" offset="0.0"/>
    <Unit name="per_hour" symbol="per_hour" dimension="per_time" power="0" scale="2.7777777778E-4" offset="0.0"/>
    <Unit name="m" symbol="m" dimension="length" power="0" scale="1.0" offset="0.0"/>
    <Unit name="cm" symbol="cm" dimension="length" power="-2" scale="1.0" offset="0.0"/>
    <Unit name="um" symbol="um" dimension="length" power="-6" scale="1.0" offset="0.0"/>
    <Unit name="m2" symbol="m2" dimension="area" power="0" scale="1.0" offset="0.0"/>
    <Unit name="cm2" symbol="cm2" dimension="area" power="-4" scale="1.0" offset="0.0"/>
    <Unit name="um2" symbol="um2" dimension="area" power="-12" scale="1.0" offset="0.0"/>
    <Unit name="m3" symbol="m3" dimension="volume" power="0" scale="1.0" offset="0.0"/>
    <Unit name="cm3" symbol="cm3" dimension="volume" power="-6" scale="1.0" offset="0.0"/>
    <Unit name="litre" symbol="litre" dimension="volume" power="-3" scale="1.0" offset="0.0"/>
    <Unit name="um3" symbol="um3" dimension="volume" power="-18" scale="1.0" offset="0.0"/>
    <Unit name="V" symbol="V" dimension="voltage" power="0" scale="1.0" offset="0.0"/>
    <Unit name="mV" symbol="mV" dimension="voltage" power="-3" scale="1.0" offset="0.0"/>
    <Unit name="per_V" symbol="per_V" dimension="per_voltage" power="0" scale="1.0" offset="0.0"/>
    <Unit name="per_mV" symbol="per_mV" dimension="per_voltage" power="3" scale="1.0" offset="0.0"/>
    <Unit name="ohm" symbol="ohm" dimension="resistance" power="0" scale="1.0" offset="0.0"/>
    <Unit name="kohm" symbol="kohm" dimension="resistance" power="3" scale="1.0" offset="0.0"/>
    <Unit name="Mohm" symbol="Mohm" dimension="resistance" power="6" scale="1.0" offset="0.0"/>
    <Unit name="S" symbol="S" dimension="conductance" power="0" scale="1.0" offset="0.0"/>
    <Unit name="mS" symbol="mS" dimension="conductance" power="-3" scale="1.0" offset="0.0"/>
    <Unit name="uS" symbol="uS" dimension="conductance" power="-6" scale="1.0" offset="0.0"/>
    <Unit name="nS" symbol="nS" dimension="conductance" power="-9" scale="1.0" offset="0.0"/>
    <Unit name="pS" symbol="pS" dimension="conductance" power="-12" scale="1.0" offset="0.0"/>
    <Unit name="S_per_m2" symbol="S_per_m2" dimension="conductanceDensity" power="0" scale="1.0" offset="0.0"/>
    <Unit name="mS_per_cm2" symbol="mS_per_cm2" dimension="conductanceDensity" power="1" scale="1.0" offset="0.0"/>
    <Unit name="S_per_cm2" symbol="S_per_cm2" dimension="conductanceDensity" power="4" scale="1.0" offset="0.0"/>
    <Unit name="uS_per_cm2" symbol="uS_per_cm2" dimension="conductanceDensity" power="-2" scale="1.0" offset="0.0"/>
    <Unit name="F" symbol="F" dimension="capacitance" power="0" scale="1.0" offset="0.0"/>
    <Unit name="uF" symbol="uF" dimension="capacitance" power="-6" scale="1.0" offset="0.0"/>
    <Unit name="nF" symbol="nF" dimension="capacitance" power="-9" scale="1.0" offset="0.0"/>
    <Unit name="pF" symbol="pF" dimension="capacitance" power="-12" scale="1.0" offset="0.0"/>
    <Unit name="F_per_m2" symbol="F_per_m2" dimension="specificCapacitance" power="0" scale="1.0" offset="0.0"/>
    <Unit name="uF_per_cm2" symbol="uF_per_cm2" dimension="specificCapacitance" power="-2" scale="1.0" offset="0.0"/>
    <Unit name="ohm_m" symbol="ohm_m" dimension="resistivity" power="0" scale="1.0" offset="0.0"/>
    <Unit name="kohm_cm" symbol="kohm_cm" dimension="resistivity" power="1" scale="1.0" offset="0.0"/>
    <Unit name="ohm_cm" symbol="ohm_cm" dimension="resistivity" power="-2" scale="1.0" offset="0.0"/>
    <Unit name="C" symbol="C" dimension="charge" power="0" scale="1.0" offset="0.0"/>
    <Unit name="e" symbol="e" dimension="charge" power="0" scale="1.602176634E-19" offset="0.0"/>
    <Unit name="C_per_mol" symbol="C_per_mol" dimension="charge_per_mole" power="0" scale="1.0" offset="0.0"/>
    <Unit name="nA_ms_per_amol" symbol="nA_ms_per_amol" dimension="charge_per_mole" power="6" scale="1.0" offset="0.0"/>
    <Unit name="pC_per_umol" symbol="pC_per_umol" dimension="charge_per_mole" power="-6" scale="1.0" offset="0.0"/>
    <Unit name="A" symbol="A" dimension="current" power="0" scale="1.0" offset="0.0"/>
    <Unit name="uA" symbol="uA" dimension="current" power="-6" scale="1.0" offset="0.0"/>
    <Unit name="nA" symbol="nA" dimension="current" power="-9" scale="1.0" offset="0.0"/>
    <Unit name="pA" symbol="pA" dimension="current" power="-12" scale="1.0" offset="0.0"/>
    <Unit name="A_per_m2" symbol="A_per_m2" dimension="currentDensity" power="0" scale="1.0" offset="0.0"/>
    <Unit name="uA_per_cm2" symbol="uA_per_cm2" dimension="currentDensity" power="-2" scale="1.0" offset="0.0"/>
    <Unit name="mA_per_cm2" symbol="mA_per_cm2" dimension="currentDensity" power="1" scale="1.0" offset="0.0"/>
    <Unit name="mol_per_m3" symbol="mol_per_m3" dimension="concentration" power="0" scale="1.0" offset="0.0"/>
    <Unit name="mol_per_cm3" symbol="mol_per_cm3" dimension="concentration" power="6" scale="1.0" offset="0.0"/>
    <Unit name="M" symbol="M" dimension="concentration" power="3" scale="1.0" offset="0.0"/>
    <Unit name="mM" symbol="mM" dimension="concentration" power="0" scale="1.0" offset="0.0"/>
    <Unit name="mol" symbol="mol" dimension="substance" power="0" scale="1.0" offset="0.0"/>
    <Unit name="m_per_s" symbol="m_per_s" dimension="permeability" power="0" scale="1.0" offset="0.0"/>
    <Unit name="cm_per_s" symbol="cm_per_s" dimension="permeability" power="-2" scale="1.0" offset="0.0"/>
    <Unit name="um_per_ms" symbol="um_per_ms" dimension="permeability" power="-3" scale="1.0" offset="0.0"/>
    <Unit name="cm_per_ms" symbol="cm_per_ms" dimension="permeability" power="1" scale="1.0" offset="0.0"/>
    <Unit name="degC" symbol="degC" dimension="temperature" power="0" scale="1.0" offset="273.15"/>
    <Unit name="K" symbol="K" dimension="temperature" power="0" scale="1.0" offset="0.0"/>
    <Unit name="J_per_K_per_mol" symbol="J_per_K_per_mol" dimension="idealGasConstantDims" power="0" scale="1.0" offset="0.0"/>
    <Unit name="fJ_per_K_per_umol" symbol="fJ_per_K_per_umol" dimension="idealGasConstantDims" power="-9" scale="1.0" offset="0.0"/>
    <Unit name="S_per_V" symbol="S_per_V" dimension="conductance_per_voltage" power="0" scale="1.0" offset="0.0"/>
    <Unit name="nS_per_mV" symbol="nS_per_mV" dimension="conductance_per_voltage" power="-6" scale="1.0" offset="0.0"/>
    <Unit name="mol_per_m_per_A_per_s" symbol="mol_per_m_per_A_per_s" dimension="rho_factor" power="0" scale="1.0" offset="0.0"/>
    <Unit name="mol_per_cm_per_uA_per_ms" symbol="mol_per_cm_per_uA_per_ms" dimension="rho_factor" power="11" scale="1.0" offset="0.0"/>
    <Unit name="umol_per_cm_per_nA_per_ms" symbol="umol_per_cm_per_nA_per_ms" dimension="rho_factor" power="8" scale="1.0" offset="0.0"/>
    <Unit name="none" symbol="none" dimension="none" power="0" scale="1.0" offset="0.0"/>
    <ComponentType name="Simulation" standalone="false" description="The main element in a LEMS Simulation file. Defines the _length of simulation, the timestep (dt) _step and an optional _seed to use for stochastic elements, as well as _Display_s, _OutputFile_s and _EventOutputFile_s to record. Specifies a _target component to run, usually the id of a _network_">
        <Parameter name="length" dimension="time" description="Duration of the simulation run"/>
        <Parameter name="step" dimension="time" description="Time step (dt) to use in the simulation"/>
        <Children name="metas" type="Meta"/>
        <Children name="displays" type="Display"/>
        <Children name="outputs" type="OutputFile"/>
        <Children name="events" type="EventOutputFile"/>
        <!-- TODO: figure out why local="false" is generated/used here... Annoys pylems... -->
        <ComponentReference name="target" type="Component" description="The target component to run, usually the id of a network" isAny="true" required="true"/>
        <Dynamics simultaneous="false">
            <StateVariable name="t" dimension="time"/>
        </Dynamics>
        <Simulation idCounter="0">
            <Run component="target" variable="t" increment="step" total="length"/>
        </Simulation>
        <Text name="seed" description="The seed to use in the random number generator for stochastic entities"/>
    </ComponentType>
    <ComponentType name="Display" standalone="false" description="Details of a display to generate (usually a set of traces given by _Line_s in a newly opened window) on completion of the simulation.">
        <Parameter name="xmin" dimension="none" description="The minimum value on the x axis (i.e time variable) of the display"/>
        <Parameter name="xmax" dimension="none" description="The maximum value on the x axis (i.e time variable) of the display"/>
        <Parameter name="ymin" dimension="none" description="The minimum value on the y axis of the display"/>
        <Parameter name="ymax" dimension="none" description="The maximum value on the x axis of the display"/>
        <Parameter name="timeScale" dimension="time" description="A scaling of the time axis, e.g. 1ms means display in milliseconds. Note: all quantities are recorded in SI units"/>
        <Children name="lines" type="Line"/>
        <Simulation idCounter="0">
            <DataDisplay title="title" dataRegion="xmin,xmax,ymin,ymax"/>
        </Simulation>
        <Text name="title" description="The title of the display, e.g. to use for the window"/>
    </ComponentType>
    <ComponentType name="Line" standalone="false" description="Specification of a single time varying _quantity to plot on the _Display_. Note that all quantities are handled internally in LEMS in SI units, and so a _scale should be used if it is to be displayed in other units.">
        <Parameter name="scale" dimension="*" description="A scaling factor to DIVIDE the quantity by. Can be dimensional, so using scale=1mV means a value of -0.07V is displayed as -70. Alternatively, scale=0.001 would achieve the same thing."/>
        <Parameter name="timeScale" dimension="*" description="An optional scaling of the time axis, e.g. 1ms means display in milliseconds. Note: if present, this overrides timeScale from _Display_"/>
        <Simulation idCounter="0">
            <Record quantity="quantity" timeScale="timeScale" scale="scale" color="color"/>
        </Simulation>
        <Path name="quantity" description="Path to the quantity to display, see see https://docs.neuroml.org/Userdocs/Paths.html."/>
        <Text name="color" description="A hex string for the color to display the trace for this quantity, e.g. #aa33ff"/>
    </ComponentType>
    <ComponentType name="OutputFile" standalone="false" description="A file in which to save recorded values from the simulation">
        <Children name="outputColumn" type="OutputColumn"/>
        <Simulation idCounter="0">
            <DataWriter path="path" fileName="fileName"/>
        </Simulation>
        <Text name="path" description="Optional path to the directory in which to store the file"/>
        <Text name="fileName" description="Name of the file to generate. Can include a relative path (from the LEMS Simulation file location)."/>
    </ComponentType>
    <ComponentType name="OutputColumn" standalone="false" description="Specification of a single time varying _quantity to record during the simulation. Note that all quantities are handled internally in LEMS in SI units, and so the value for the quantity in the file (as well as time) will be in SI units.">
        <Simulation idCounter="0">
            <Record quantity="quantity"/>
        </Simulation>
        <Path name="quantity" description="Path to the quantity to save, see see https://docs.neuroml.org/Userdocs/Paths.html. Note that all quantities are saved in SI units."/>
    </ComponentType>
    <ComponentType name="EventOutputFile" standalone="false" description="A file in which to save event information (e.g. spikes from cells in a population) in a specified _format">
        <Children name="eventSelection" type="EventSelection"/>
        <Simulation idCounter="0">
            <EventWriter path="path" fileName="fileName" format="format"/>
        </Simulation>
        <Text name="path" description="Optional path to the directory in which to store the file"/>
        <Text name="fileName" description="Name of the file to generate. Can include a relative path (from the LEMS Simulation file location)."/>
        <Text name="format" description="Takes values TIME_ID or ID_TIME, depending on the preferred order of the time or event id (from _EventSelection_) in each row of the file"/>
    </ComponentType>
    <ComponentType name="EventSelection" standalone="false" description="A specific source of events with an associated _id, which will be recorded inside the file specified in the parent _EventOutputFile_. The attribute _select should point to a cell inside a _population_ (e.g. hhpop[0], see https://docs.neuroml.org/Userdocs/Paths.html), and the _eventPort specifies the port for the emitted events, which usually has id: spike. Note: the _id used on this element (and appearing in the file alongside the event time) can be different from the id/index of the cell in the population.">
        <Simulation idCounter="0">
            <EventRecord quantity="select" eventPort="eventPort"/>
        </Simulation>
        <Path name="select" description="The cell which will be emitting the events"/>
        <Text name="eventPort" description="The port on the cell which generates the events, usually: spike"/>
    </ComponentType>
    <ComponentType name="Meta" standalone="false" description="Metadata to add to simulation">
        <Text name="for" description="Simulator name"/>
        <Text name="method" description="Integration method to use"/>
        <Text name="abs_tolerance" description="Absolute tolerance for NEURON's cvode method"/>
        <Text name="rel_tolerance" description="Relative tolerance for NEURON's cvode method"/>
    </ComponentType>
    <ComponentType name="Lavrentovich2008_Ca_Oscillations" standalone="false">
        <Parameter name="vin" dimension="none"/>
        <Parameter name="kout" dimension="none"/>
        <Parameter name="vM3" dimension="none"/>
        <Parameter name="k_CaA" dimension="none"/>
        <Parameter name="n" dimension="none"/>
        <Parameter name="k_CaI" dimension="none"/>
        <Parameter name="m" dimension="none"/>
        <Parameter name="kip3" dimension="none"/>
        <Parameter name="vM2" dimension="none"/>
        <Parameter name="k2" dimension="none"/>
        <Parameter name="kf" dimension="none"/>
        <Parameter name="vp" dimension="none"/>
        <Parameter name="kp" dimension="none"/>
        <Parameter name="kdeg" dimension="none"/>
        <Exposure name="X" dimension="none"/>
        <Exposure name="Y" dimension="none"/>
        <Exposure name="Z" dimension="none"/>
        <Dynamics simultaneous="false">
            <DerivedVariable name="rate__R1" dimension="none" required="true" value="(compartment * vin)">
                <ParseTree/>
            </DerivedVariable>
            <DerivedVariable name="rate__R2" dimension="none" required="true" value="((compartment * kout) *   X  )">
                <ParseTree/>
            </DerivedVariable>
            <DerivedVariable name="rate__R3" dimension="none" required="true" value="((((((ER * 4.0) * vM3) * (k_CaA ^ n)) * ((  X   ^ n) / (((  X   ^ n) + (k_CaA ^ n)) * ((  X   ^ n) + (k_CaI ^ n))))) * ((  Z   ^ m) / ((  Z   ^ m) + (kip3 ^ m)))) * (  Y   -   X  ))">
                <ParseTree/>
            </DerivedVariable>
            <DerivedVariable name="rate__R4" dimension="none" required="true" value="((compartment * vM2) * ((  X   ^ 2.0) / ((  X   ^ 2.0) + (k2 ^ 2.0))))">
                <ParseTree/>
            </DerivedVariable>
            <DerivedVariable name="rate__R5" dimension="none" required="true" value="((ER * kf) * (  Y   -   X  ))">
                <ParseTree/>
            </DerivedVariable>
            <DerivedVariable name="rate__R6" dimension="none" required="true" value="((compartment * vp) * ((  X   ^ 2.0) / ((  X   ^ 2.0) + (kp ^ 2.0))))">
                <ParseTree/>
            </DerivedVariable>
            <DerivedVariable name="rate__R7" dimension="none" required="true" value="((compartment * kdeg) *   Z  )">
                <ParseTree/>
            </DerivedVariable>
            <StateVariable name="X" dimension="none" exposure="X"/>
            <StateVariable name="Y" dimension="none" exposure="Y"/>
            <StateVariable name="Z" dimension="none" exposure="Z"/>
            <TimeDerivative variable="X" value="tscale * (rate__R1 - rate__R2 + rate__R3 - rate__R4 + rate__R5) / compartment"/>
            <TimeDerivative variable="Y" value="tscale * (-1*rate__R3 + rate__R4 - rate__R5) / ER"/>
            <TimeDerivative variable="Z" value="tscale * (rate__R6 - rate__R7) / compartment"/>
            <OnStart>
                <StateAssignment variable="X" value="init_X"/>
                <StateAssignment variable="Y" value="init_Y"/>
                <StateAssignment variable="Z" value="init_Z"/>
            </OnStart>
        </Dynamics>
        <Constant name="tscale" value="1per_s" dimension="per_time"/>
        <Constant name="compartment" value="1.0" dimension="none"/>
        <Constant name="ER" value="1.0" dimension="none"/>
        <Constant name="init_X" value="0.1" dimension="none"/>
        <Constant name="init_Y" value="1.5" dimension="none"/>
        <Constant name="init_Z" value="0.1" dimension="none"/>
    </ComponentType>
    <Lavrentovich2008_Ca_Oscillations id="Lavrentovich2008_Ca_Oscillations_0" vin="0.05" kout="0.5" vM3="40.0" k_CaA="0.15" n="2.02" k_CaI="0.15" m="2.2" kip3="0.1" vM2="15.0" k2="0.1" kf="0.5" vp="0.05" kp="0.3" kdeg="0.08"/>
    <Simulation id="sim1" target="Lavrentovich2008_Ca_Oscillations_0" length="1000.0s" step="0.01s">
        <Display id="disp1" timeScale="1s" title="Simulation of SBML model: Lavrentovich2008_Ca_Oscillations from file: BIOMD0000000184.xml" xmin="0" xmax="1000.0" ymin="0" ymax="1">
            <Line id="X__S" scale="1" quantity="X" color="#000000" timeScale="1s"/>
            <Line id="Y__S" scale="1" quantity="Y" color="#ff0000" timeScale="1s"/>
            <Line id="Z__S" scale="1" quantity="Z" color="#00ff00" timeScale="1s"/>
        </Display>
        <OutputFile id="outputFile1" fileName="Lavrentovich2008_Ca_Oscillations.dat" path=".">
            <OutputColumn id="os_X" quantity="X"/>
            <OutputColumn id="os_Y" quantity="Y"/>
            <OutputColumn id="os_Z" quantity="Z"/>
        </OutputFile>
    </Simulation>
    <Target component="sim1"/>
</Lems>
